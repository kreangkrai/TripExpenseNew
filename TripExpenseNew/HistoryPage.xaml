<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TripExpenseNew.HistoryPage"
             xmlns:shell="http://schemas.microsoft.com/dotnet/2021/maui"
             Title="HistoryPage"
             shell:Shell.NavBarIsVisible="False">
    <ScrollView>
        <Grid
            Padding="10,10"
            ColumnDefinitions="*"
            ColumnSpacing="5"
            RowDefinitions="Auto,*,Auto"
            RowSpacing="5">
            <!--  LABEL | ACTIVE TRIP  -->
            <Label
                Grid.Row="0"
                Grid.Column="0"
                CharacterSpacing="1"
                FontAttributes="Bold"
                FontFamily="Rajdhani-Bold"
                FontSize="32"
                HorizontalOptions="Center"
                SemanticProperties.HeadingLevel="Level2"
                Text="TRIP HISTORY"
                TextColor="#1C4698"
                VerticalOptions="Center" />
            <Frame
                        Padding="10" 
                        Grid.Row="1"
                        Grid.Column="0"
                        Margin="1"
                        BackgroundColor= "White"
                        CornerRadius="5"
                        BorderColor="DimGrey"
                        HasShadow="False">
                <StackLayout>
                    <CollectionView x:Name="HistoryTripCollectionView" MaximumHeightRequest="800"
                                    SelectionMode="Single"
                                    SelectionChanged="HistoryTripCollectionView_SelectionChanged">
                        <CollectionView.ItemsLayout>
                            <LinearItemsLayout Orientation="Vertical" ItemSpacing="5" />
                        </CollectionView.ItemsLayout>
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Frame
                                    Margin="1"
                                    Padding="5,1"
                                    BackgroundColor="White"
                                    CornerRadius="5"                          
                                    HasShadow="False">
                                    <Grid RowDefinitions="Auto,Auto,Auto,Auto" Padding="1" RowSpacing="1">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <Label Grid.Row="0"  Grid.ColumnSpan="2" Text="{Binding TextTrip}" VerticalOptions="Center" FontSize="20" FontFamily="Rajdhani-Bold"/>
                                        <Image Grid.Row="1"  Grid.Column="0" Source="{Binding IconLocationSource}" WidthRequest="16" HeightRequest="16" Margin="10,0" />
                                        <Label Grid.Row="1"  Grid.Column="1" Padding="1" Text="{Binding TextLocation}" VerticalOptions="Center"  FontSize="16" FontFamily="Rajdhani-Medium"/>
                                        <Image Grid.Row="2"  Grid.Column="0" Source="{Binding IconMileageSource}" WidthRequest="16" HeightRequest="16" Margin="10,0" />
                                        <Label Grid.Row="2"  Grid.Column="1" Padding="1" Text="{Binding TextMileage}" VerticalOptions="Center" FontSize="16" FontFamily="Rajdhani-Medium" />
                                        <Image Grid.Row="3"  Grid.Column="0" Source="{Binding IconDistanceSource}" WidthRequest="16" HeightRequest="16" Margin="10,0" />
                                        <Label Grid.Row="3"  Grid.Column="1" Padding="1" Text="{Binding TextDistance}" VerticalOptions="Center" FontSize="16" FontFamily="Rajdhani-Medium" />
                                    </Grid>
                                </Frame>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </StackLayout>
            </Frame>
            <Button
                x:Name="CancelBtn"
                Clicked="CancelBtn_Clicked"
                Grid.Row="2"
                Grid.Column="0"
                Padding="10,5"
                BackgroundColor="CadetBlue"
                TextColor="White"
                CharacterSpacing="1"
                ContentLayout="Right,10"
                CornerRadius="5"
                FontAttributes="Bold"
                FontSize="22"
                HeightRequest="50"
                HorizontalOptions="Fill"
                ImageSource="check_in.png"
                Text="BACK"
                VerticalOptions="End" />
        </Grid>
    </ScrollView>
</ContentPage>